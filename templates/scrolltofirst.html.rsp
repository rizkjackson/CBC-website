<%-- Scroll page to first H1 section --%>
<script type="text/javascript">
$(window).load(function() {
  // executes when complete page is fully loaded, including 
  // all frames, objects and images
  var first = $("h1:first");
  if (first.length == 0) first = $("h2:first");

  if (first.length > 0) {
    var offsetBefore = first.offset().top;

    // Display sub-logo
    var sublogo = $("#sublogo");
    if (sublogo.length > 0) {
      sublogo.css('height', 'auto');
      sublogo.css('margin-bottom', '5ex');
      sublogo.css('visibility', 'visible');
    }

    var offsetAfter = first.offset().top;
    var shift = offsetAfter - offsetBefore;

    // Do we need to add extra space at the bottom?
    // If not done, the page won't scroll as much as we want
    var pushOffset = $("#push").offset().top;
    var totalHeight = this.innerHeight;
    var available = pushOffset - totalHeight;
    if (available < shift) {
      $("#filler").height(shift-available);
    }

    // Scroll such that the H1 header is at the top
    this.scroll(0, shift);
  } // if (first.length > 0)
});
</script>
