<%-- Scroll page to first H1 section --%>
<script type="text/javascript">
$(window).load(function() {
  // executes when complete page is fully loaded, including 
  // all frames, objects and images
  var first = $("h1:first");
  if (first.length == 0) first = $("h2:first");

  if (first.length > 0) {
    var offset = 20;
    var navbar = $("#topnavbar");
    if (navbar.length > 0) {
      offset = navbar.height() + offset;
    }

    var offsetBefore = first.offset().top;

    var sublogo = $("#sublogo");
    if (sublogo.length > 0) {
      sublogo.css('height', 'auto');
      sublogo.css('margin-bottom', '5ex');
      sublogo.css('visibility', 'visible');
    }

    var offsetAfter = first.offset().top;
    var shift = offsetAfter - offset;

    var pushOffset = $("#push").offset().top;
    var totalHeight = this.innerHeight;
    // alert(
    // "totalHeight: " + totalHeight + ",\n" +
    // "pushOffset: " + pushOffset + ",\n" +
    // "shift: " + shift + ",\n" +
    // ""
    // );

    // Do we need to add extra space at the bottom?
    // If not done, the page won't scroll as much as we want
    var fillerHeight = pushOffset - totalHeight - shift;
    if (fillerHeight < 0) {
      $("#filler").height(-fillerHeight);
    }

    this.scroll(0, shift);
  } // if (first.length > 0)
});
</script>
